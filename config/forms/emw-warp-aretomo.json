{
    "name": "emw-warp-aretomo",
    "help": "Warp wrapper to run *ts_aretomo* for tilt-series alignment. \n\n*REFERENCES*:\n[[https://warpem.github.io/warp/reference/warptools/api/tilt_series/?h=ts_aretomo#ts_aretomo][ts_aretomo]]",
    "sections": [
        {
            "label": "Import",
            "params": [
                {
                    "name": "input_tiltseries",
                    "label": "Input tilt series:",
                    "pattern": "",
                    "help": "STAR file with input tilt-series",
                    "paramClass": "PathParam",
                    "pointerClass": "TiltSeries"
                },
                {
                    "name": "ts_import.min_ntilts",
                    "label": "Min number of tilts",
                    "help": "",
                    "default": 35
                },
                {
                    "name": "ts_import.override_axis",
                    "label": "Angle for Tilt Axis (deg)",
                    "default": 85,
                    "paramClass": "FloatParam",
                    "help": ""
                },
                {
                    "name": "create_settings.tomo_dimensions",
                    "label": "Tomogram dimensions:",
                    "default": "4096x4096x2000",
                    "help": ""
                },
                {
                    "name": "extra_ts_import",
                    "label": "ts_import extra arguments",
                    "paramClass": "StringParam",
                    "help": "Extra arguments to pass to ts_import"
                }
            ]
        },
        {
            "label": "Aretomo",
            "paramClass": "Group",
            "params": [
                {
                    "name": "ts_aretomo.angpix",
                    "label": "Output pixel size (A/pix)",
                    "paramClass": "FloatParam",
                    "help": "Rescale tilt images to this pixel size; normally 10â€“15 A for cryo data; leave out to keep the original pixel size."
                },
                {
                    "name": "ts_aretomo.alignz",
                    "label": "Align Z (px)",
                    "default": 1800,
                    "paramClass": "FloatParam",
                    "help": ""
                },
                {
                    "name": "ts_aretomo.axis_iter",
                    "label": "Axis Iter",
                    "default": 0,
                    "paramClass": "FloatParam",
                    "help": ""
                },
                {
                    "name": "ts_aretomo.axis_batch",
                    "label": "Axis Batch",
                    "default": 0,
                    "paramClass": "FloatParam",
                    "help": ""
                },
                {
                    "name": "ts_aretomo.patches",
                    "label": "Patches",
                    "default": "1x1",
                    "help": "Number of patches for local alignments in X, Y, separated by 'x': e.g. 6x4. Increases processing time."                      
                }
            ]
        },
        {
            "label": "Compute",
            "paramClass": "Group",
            "params": [
                {
                    "name": "gpus",
                    "label": "GPUs",                    
                    "help": "If it is a single number (N), it will represent the total number of GPUs (0..N-1). It there are multiple values, it will be the specific GPUs ID."
                },
                {
                    "name": "ts_aretomo.perdevice",
                    "label": "Processes per device",
                    "default": 2,
                    "paramClass": "IntParam",
                    "help": "(--per_device in ts_aretomo)"
                },
                {
                    "label": "Launchers",
                    "paramClass": "Group",
                    "help": "Launchers to use for the different programs",
                    "params": [
                        {
                            "name": "launcher_warp",
                            "label": "WARP",
                            "paramClass": "StringParam",
                            "help": "Launcher to use for Warp"
                        },
                        {
                            "name": "launcher_aretomo",
                            "label": "ARETOMO",
                            "paramClass": "StringParam",
                            "help": "Launcher to use for Aretomo"
                        }
                    ]
                }
            ]
        }
    ]
}